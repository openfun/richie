<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.2.0 plugin-docs plugin-id-default docs-doc-id-lms-connection">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Connecting Richie with an LMS | Richie</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://richie.education/img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://richie.education/img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://richie.education/docs/2.2.0/lms-connection"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.2.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.2.0"><meta data-rh="true" name="docsearch:version" content="2.2.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.2.0"><meta data-rh="true" property="og:title" content="Connecting Richie with an LMS | Richie"><meta data-rh="true" name="description" content="richie can be connected to one or more Learning Management Systems (LMS) like OpenEdx, Moodle"><meta data-rh="true" property="og:description" content="richie can be connected to one or more Learning Management Systems (LMS) like OpenEdx, Moodle"><link data-rh="true" rel="canonical" href="https://richie.education/docs/2.2.0/lms-connection"><link data-rh="true" rel="alternate" href="https://richie.education/docs/2.2.0/lms-connection" hreflang="en"><link data-rh="true" rel="alternate" href="https://richie.education/docs/2.2.0/lms-connection" hreflang="x-default"><script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/assets/css/styles.7cc9eea0.css">
<link rel="preload" href="/assets/js/runtime~main.00157567.js" as="script">
<link rel="preload" href="/assets/js/main.040539a5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Richie</b></a><a class="navbar__item navbar__link" href="/docs/discover">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/2.2.0/discover">2.2.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/lms-connection">Next</a></li><li><a class="dropdown__link" href="/docs/lms-connection">2.22.0</a></li><li><a class="dropdown__link" href="/docs/2.21.1/lms-connection">2.21.1</a></li><li><a class="dropdown__link" href="/docs/2.21.0/lms-connection">2.21.0</a></li><li><a class="dropdown__link" href="/docs/2.20.1/lms-connection">2.20.1</a></li><li><a class="dropdown__link" href="/docs/2.20.0/lms-connection">2.20.0</a></li><li><a class="dropdown__link" href="/docs/2.19.0/lms-connection">2.19.0</a></li><li><a class="dropdown__link" href="/docs/2.18.0/lms-connection">2.18.0</a></li><li><a class="dropdown__link" href="/docs/2.17.0/lms-connection">2.17.0</a></li><li><a class="dropdown__link" href="/docs/2.16.0/lms-connection">2.16.0</a></li><li><a class="dropdown__link" href="/docs/2.15.1/lms-connection">2.15.1</a></li><li><a class="dropdown__link" href="/docs/2.15.0/lms-connection">2.15.0</a></li><li><a class="dropdown__link" href="/docs/2.14.1/lms-connection">2.14.1</a></li><li><a class="dropdown__link" href="/docs/2.14.0/lms-connection">2.14.0</a></li><li><a class="dropdown__link" href="/docs/2.13.0/lms-connection">2.13.0</a></li><li><a class="dropdown__link" href="/docs/2.12.0/lms-connection">2.12.0</a></li><li><a class="dropdown__link" href="/docs/2.11.0/lms-connection">2.11.0</a></li><li><a class="dropdown__link" href="/docs/2.10.0/lms-connection">2.10.0</a></li><li><a class="dropdown__link" href="/docs/2.9.1/lms-connection">2.9.1</a></li><li><a class="dropdown__link" href="/docs/2.9.0/lms-connection">2.9.0</a></li><li><a class="dropdown__link" href="/docs/2.8.2/lms-connection">2.8.2</a></li><li><a class="dropdown__link" href="/docs/2.8.1/lms-connection">2.8.1</a></li><li><a class="dropdown__link" href="/docs/2.8.0/lms-connection">2.8.0</a></li><li><a class="dropdown__link" href="/docs/2.7.1/lms-connection">2.7.1</a></li><li><a class="dropdown__link" href="/docs/2.7.0/lms-connection">2.7.0</a></li><li><a class="dropdown__link" href="/docs/2.6.0/lms-connection">2.6.0</a></li><li><a class="dropdown__link" href="/docs/2.5.0/lms-connection">2.5.0</a></li><li><a class="dropdown__link" href="/docs/2.4.0/lms-connection">2.4.0</a></li><li><a class="dropdown__link" href="/docs/2.3.3/lms-connection">2.3.3</a></li><li><a class="dropdown__link" href="/docs/2.3.2/lms-connection">2.3.2</a></li><li><a class="dropdown__link" href="/docs/2.3.1/lms-connection">2.3.1</a></li><li><a class="dropdown__link" href="/docs/2.3.0/lms-connection">2.3.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.2.0/lms-connection">2.2.0</a></li><li><a class="dropdown__link" href="/docs/2.1.0/lms-connection">2.1.0</a></li><li><a class="dropdown__link" href="/docs/2.0.1/lms-connection">2.0.1</a></li><li><a class="dropdown__link" href="/docs/2.0.0/lms-connection">2.0.0</a></li><li><a class="dropdown__link" href="/docs/1.17/discover">1.17</a></li><li><a class="dropdown__link" href="/docs/1.16/discover">1.16</a></li><li><a class="dropdown__link" href="/docs/1.15/discover">1.15</a></li><li><a class="dropdown__link" href="/docs/1.14/discover">1.14</a></li><li><a class="dropdown__link" href="/docs/1.13/discover">1.13</a></li><li><a class="dropdown__link" href="/docs/1.12/discover">1.12</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><a class="navbar__item navbar__link" href="/help">Help</a><a href="https://github.com/openfun/richie" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/2.2.0/discover">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/2.2.0/django-react-interop">Recipes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.2.0/django-react-interop">Django &amp; React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.2.0/building-the-frontend">Building the frontend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.2.0/internationalization">I18n</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.2.0/frontend-overrides">Frontend overrides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.2.0/lms-connection">LMS connection</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/2.2.0/contributing-guide">Contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Richie<!-- --> <b>2.2.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/lms-connection">latest version</a></b> (<!-- -->2.22.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Recipes</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">LMS connection</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.2.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Connecting Richie with an LMS</h1></header><p><code>richie</code> can be connected to one or more Learning Management Systems (LMS) like OpenEdx, Moodle
or Canvas for a seamless experience between browsing the course catalog on <code>richie</code> and following
the course itself on the LMS.</p><p>In order to connect <code>richie</code> with a LMS, there is an API bridge
to synchronize course information and enrollments.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-bridge">API bridge<a href="#api-bridge" class="hash-link" aria-label="Direct link to API bridge" title="Direct link to API bridge">​</a></h3><p>The <code>APIHandler</code> utility acts as a proxy that routes queries to the correct LMS backend API,
based on a regex match on the URL of the course.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">RICHIE_LMS_BACKENDS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;BASE_URL&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://www.lms-example2.org&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;BACKEND&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;richie.apps.courses.lms.edx.EdXLMSBackend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;COURSE_REGEX&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">r&quot;^.*/courses/(?P&lt;course_id&gt;.*)/course/?$&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;JS_BACKEND&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;openedx-hawthorn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;JS_COURSE_REGEX&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">r&quot;^.*/course/(?&lt;course_id&gt;[0-9]*)$&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For information about how to generate an API access on your OpenEdx instance, refer to the
documentation.</p><p><em>Note: <code>JS_BACKEND</code> accepts <code>base</code>, <code>openedx-dogwood</code> and <code>openedx-hawthorn</code> values.</em>
<em>We have to implement several interfaces to be compatible to OpenEdx API:</em>
<em><code>openedx-dogwood</code> has been tested with Dogwood and Eucalyptus versions.</em>
<em><code>openedx-hawthorn</code> has been tested with Hawthorn and Ironwood versions.</em>
<em>If you encounter an issue with these API interfaces or need to have a new interface, propose a PR</em>
<em>or create an issue on our repository</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-richie-and-openedx-over-tls">Connecting Richie and OpenEdx over TLS<a href="#connecting-richie-and-openedx-over-tls" class="hash-link" aria-label="Direct link to Connecting Richie and OpenEdx over TLS" title="Direct link to Connecting Richie and OpenEdx over TLS">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="purpose">Purpose<a href="#purpose" class="hash-link" aria-label="Direct link to Purpose" title="Direct link to Purpose">​</a></h4><p>About the default configuration, if you check <code>RICHIE_LMS_BACKENDS</code> settings in <code>env.d/development</code>
you will see that we use <code>base.BaseLMSBackend</code> as <code>RICHIE_LMS_BACKENDS</code>.
In fact, this base backend uses session storage to fake enrollment to course runs.</p><p>Maybe are you asking why? Because, to make Create/Update/Delete requests from an external domain,
OpenEdx requires the use of a CORS CSRF Cookie. This cookie is flagged as secure, that means we are
not able to use it without a SSL connection.</p><p>So if you need to use the OpenEdx API to Create, Update or Delete data from Richie, you have to
enable SSL on Richie and OpenEdx on your development environment. So we need a little bit more
configuration. Below, we explain how to serve OpenEdx and Richie over SSL.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="run-openedx-and-richie-on-the-same-domain">Run OpenEdx and Richie on the same domain<a href="#run-openedx-and-richie-on-the-same-domain" class="hash-link" aria-label="Direct link to Run OpenEdx and Richie on the same domain" title="Direct link to Run OpenEdx and Richie on the same domain">​</a></h4><p>Richie and OpenEdx must be on the same domain to work properly (Cookie security policy blocks
secure cookie sharing on localhost) To do that you have to edit your hosts file
(<em>.e.g</em> <code>/etc/hosts</code> on a <!-- -->*<!-- -->NIX system) to alias a domain <code>local.dev</code> with
two subdomains <code>richie</code> and <code>edx</code> to localhost:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># /etc/hosts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">127.0.0.1 richie.local.dev</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">127.0.0.1 edx.local.dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once this has been done, the OpenEdx app should respond on <a href="http://edx.local.dev:8073" target="_blank" rel="noopener noreferrer">http://edx.local.dev:8073</a>
and Richie should respond on <a href="http://richie.local.dev:8070" target="_blank" rel="noopener noreferrer">http://richie.local.dev:8070</a> and should be able
to make CORS XHR requests.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enable-tls">Enable TLS<a href="#enable-tls" class="hash-link" aria-label="Direct link to Enable TLS" title="Direct link to Enable TLS">​</a></h4><p>If you want to develop with OpenEdx as <code>RICHIE_LMS_BACKENDS</code> of Richie, you need to enable TLS for your
development servers. Both Richie and OpenEdx use Nginx as reverse proxy that ease the SSL setup.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-mkcert-and-its-certificate-authority">1. Install mkcert and its Certificate Authority<a href="#1-install-mkcert-and-its-certificate-authority" class="hash-link" aria-label="Direct link to 1. Install mkcert and its Certificate Authority" title="Direct link to 1. Install mkcert and its Certificate Authority">​</a></h5><p>First you will need to install mkcert and its Certificate Authority.
<a href="https://mkcert.org/" target="_blank" rel="noopener noreferrer">mkcert</a> is a little util to ease local certificate generation.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="a-install-mkcert-on-your-local-machine">a. Install <code>mkcert</code> on your local machine<a href="#a-install-mkcert-on-your-local-machine" class="hash-link" aria-label="Direct link to a-install-mkcert-on-your-local-machine" title="Direct link to a-install-mkcert-on-your-local-machine">​</a></h6><ul><li><a href="https://github.com/FiloSottile/mkcert" target="_blank" rel="noopener noreferrer">Read the doc</a></li><li>Linux users who do not want to use linuxbrew : <a href="https://www.prado.lt/how-to-create-locally-trusted-ssl-certificates-in-local-development-environment-on-linux-with-mkcert" target="_blank" rel="noopener noreferrer">read this article</a>.</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="b-install-mkcert-certificate-authority">b. Install Mkcert Certificate Authority<a href="#b-install-mkcert-certificate-authority" class="hash-link" aria-label="Direct link to b. Install Mkcert Certificate Authority" title="Direct link to b. Install Mkcert Certificate Authority">​</a></h6><p><code>mkcert -install</code></p><blockquote><p>If you do not want to use mkcert, you can generate <a href="https://www.freecodecamp.org/news/how-to-get-https-working-on-your-local-development-environment-in-5-minutes-7af615770eec/" target="_blank" rel="noopener noreferrer">CA and certificate with openssl</a>.
You will have to put your certificate and its key in <code>docker/files/etc/nginx/ssl</code> directory
and named them <code>richie.local.dev.pem</code> and <code>richie.local.dev.key</code>.</p></blockquote><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2-on-richie">2. On Richie<a href="#2-on-richie" class="hash-link" aria-label="Direct link to 2. On Richie" title="Direct link to 2. On Richie">​</a></h5><p>To setup SSL conf with mkcert, just run:
<code>bin/setup-ssl</code></p><blockquote><p>If you do not want to use mkcert, read instructions above to generate Richie certificate then
run <code>bin/setup-ssl --no-cert</code> instead.</p></blockquote><h5 class="anchor anchorWithStickyNavbar_LWe7" id="3-on-openedx">3. On OpenEdx<a href="#3-on-openedx" class="hash-link" aria-label="Direct link to 3. On OpenEdx" title="Direct link to 3. On OpenEdx">​</a></h5><p>In the same way, about OpenEdx, you also have to update the Nginx configuration to enable SSL.
Read how to <a href="https://github.com/openfun/openedx-docker#ssl" target="_blank" rel="noopener noreferrer">enable SSL on OpenEdx</a>.</p><p>Once this has been done, the OpenEdx app should respond on <a href="https://edx.local.dev:8073" target="_blank" rel="noopener noreferrer">https://edx.local.dev:8073</a>
and Richie should respond on <a href="https://richie.local.dev:8070" target="_blank" rel="noopener noreferrer">https://richie.local.dev:8070</a> and should be able
to share cookies with OpenEdx to allow CORS CSRF Protected XHR requests.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="4-start-richie-and-openedx-over-ssl">4. Start Richie and OpenEdx over SSL<a href="#4-start-richie-and-openedx-over-ssl" class="hash-link" aria-label="Direct link to 4. Start Richie and OpenEdx over SSL" title="Direct link to 4. Start Richie and OpenEdx over SSL">​</a></h5><p>Now, OpenEdx app should respond on <a href="https://edx.local.dev:8073" target="_blank" rel="noopener noreferrer">https://edx.local.dev:8073</a>, and Richie
on <a href="https://richie.local.dev:8070" target="_blank" rel="noopener noreferrer">https://richie.local.dev:8070</a> without browser warning about the certificate validity.</p><p>You need to follow these steps once. If you want to use SSL later, just use <code>make run-ssl</code> to run
OpenEdx and Richie apps.
Of course, you can still run apps without ssl by using <code>make run</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-06-13T08:23:31.000Z">Jun 13, 2022</time></b> by <b>Mehdi Benadda</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/2.2.0/frontend-overrides"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Frontend overrides</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/2.2.0/contributing-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributing guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#api-bridge" class="table-of-contents__link toc-highlight">API bridge</a></li><li><a href="#connecting-richie-and-openedx-over-tls" class="table-of-contents__link toc-highlight">Connecting Richie and OpenEdx over TLS</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/discover">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/versions">Versions</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/users">User Showcase</a></li><li class="footer__item"><a href="https://github.com/openfun/richie" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Creative Commons 2022 — Richie contributors / Illustrations Katerina Limpitsouni</div></div></div></footer></div>
<script src="/assets/js/runtime~main.00157567.js"></script>
<script src="/assets/js/main.040539a5.js"></script>
</body>
</html>